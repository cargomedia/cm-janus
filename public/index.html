<html>
  <head>
    <title>Test</title>
  </head>
  <body>
    <video id="video" autoplay width="640" height="480"></video>
    <script src="node_modules/jquery/dist/jquery.min.js"></script>
    <script src="node_modules/rtcpeerconnection/rtcpeerconnection.bundle.js"></script>
    <script>
      $(document).ready(function() {
        var video = document.getElementById('video');

        $.post('/video/subscribe', {streamId: 1}, function(data) {
          var config = {"iceServers": [{"url": "stun:stun.l.google.com:19302"}]};
          var constraints = {"optional": [{"DtlsSrtpKeyAgreement": true}]};
          var pc = new RTCPeerConnection(config, constraints);
          pc.onaddstream = function(evt) {
            console.log('#### onaddstream');
            video.src = URL.createObjectURL(evt.stream);
          };
          pc.setRemoteDescription(new RTCSessionDescription(data.jsep.sdp));
        });
      });
    </script>
  </body>
</html>
